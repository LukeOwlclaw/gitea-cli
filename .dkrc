#!/usr/bin/env bash

dk use: cram              # run tests using the "cram" functional test tool
dk use: entr-watch        # watch files and re-run tests or other commands
dk use: shell-console     # make the "console" command enter a subshell
dk use: bash32            # enable doing tests/console/etc. in bash3.2 w/docker

# Define overrides, new commands, functions, etc. here:

dk.bootstrap() {
    require loco github bashup/loco master bin/loco
    require mdsh github bashup/mdsh master bin/mdsh
    require-any jq
    require-any yaml2json
}

dk.build() {
    dk test && mdsh --out bin/gitea --compile gitea.md
}

cram.files() { ls gitea.md; }
